<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>midway-behavior</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <script src="@test-path/webcomponentsjs/webcomponents.min.js"></script>
    <script src="@test-path/web-component-tester/browser.js"></script>

    <link rel="import" href="@test-path/test-fixture/test-fixture.html">
    <link rel="import" href="../demo/midway-position.html">
    <style>
      .center-test {
        height: 300px;
        width: 300px;
        background: #000;
        color: #fff;
        text-align: center;
        display: block;
        z-index: 1;
      }

      .center-2-sizes-test {
        height: 300px;
        width: 150px;
        background: #000;
        color: #fff;
        text-align: center;
        display: block;
        z-index: 1;
      }

      .vertical-test {
        height: 200px;
        width: 200px;
        background: #000;
        color: #fff;
        text-align: center;
        display: block;
        z-index: 1;
      }

      .horizontal-test {
        height: 100px;
        width: 100px;
        background: #000;
        color: #fff;
        text-align: center;
        display: block;
        z-index: 1;
      }
    </style>

  </head>
  <body unresolved>
    <test-fixture id="midway-position-center-fixture">
      <template>
        <midway-position><div class="center-test">center</div></midway-position>
      </template>
    </test-fixture>

    <test-fixture id="midway-position-horizontal-fixture">
      <template>
        <midway-position><div class="horizontal-test">horizontal</div></midway-position>
      </template>
    </test-fixture>

    <test-fixture id="midway-position-vertical-fixture">
      <template>
        <midway-position><div class="vertical-test">vertical</div></midway-position>
      </template>
    </test-fixture>

    <test-fixture id="midway-position-center-2-sizes-test-fixture">
      <template>
        <midway-position><div class="center-2-sizes-test">center 2 sizes test</div></midway-position>
      </template>
    </test-fixture>

    <script>
      suite('<midway-position>', function() {
        var testFixture;
        var testFixture2;
        var testFixture3;
        var testFixture4;

        setup(function() {
          testFixture = fixture('midway-position-center-fixture');
          testFixture2 = fixture('midway-position-horizontal-fixture');
          testFixture3 = fixture('midway-position-vertical-fixture');
          testFixture4 = fixture('midway-position-center-2-sizes-test-fixture');
        });

        test('test setup', function() {
          expect(document.querySelector('midway-position')).to.be.ok;
        });

        test('test if element is center and has all css style', function() {
          var center = testFixture.querySelector('.center-test');

          expect(center.classList.contains('midway')).to.be.true;
          expect(center.classList.contains('centered')).to.be.true;
          expect(center.classList.contains('horizontally')).to.be.true;
          expect(center.classList.contains('vertically')).to.be.true;
          expect(center.style.marginLeft).to.be.equal('-150px');
          expect(center.style.display).to.be.equal('inline');
          expect(center.style.position).to.be.equal('fixed');
          expect(center.style.left).to.be.equal('50%');
          expect(center.style.marginTop).to.be.equal('-150px');
          expect(center.style.top).to.be.equal('50%');
        });

        test('test if element is horizontal and has all css style', function() {
          var horizontal = testFixture2.querySelector('.horizontal-test');

          expect(horizontal.classList.contains('midway')).to.be.true;
          expect(horizontal.classList.contains('horizontally')).to.be.true;
          expect(horizontal.style.marginLeft).to.be.equal('-50px');
          expect(horizontal.style.display).to.be.equal('inline');
          expect(horizontal.style.position).to.be.equal('fixed');
          expect(horizontal.style.left).to.be.equal('50%');
        });

        test('test if element is vertical and has all css style', function() {
          var vertical = testFixture3.querySelector('.vertical-test');

          expect(vertical.classList.contains('midway')).to.be.true;
          expect(vertical.classList.contains('vertically')).to.be.true;
          expect(vertical.style.display).to.be.equal('inline');
          expect(vertical.style.position).to.be.equal('fixed');
          expect(vertical.style.marginTop).to.be.equal('-100px');
          expect(vertical.style.top).to.be.equal('50%');
        });

        test('test if element is center and has 2 random sizes css style', function() {
          var center2sizes = testFixture4.querySelector('.center-2-sizes-test');

          expect(center2sizes.classList.contains('midway')).to.be.true;
          expect(center2sizes.classList.contains('centered')).to.be.true;
          expect(center2sizes.classList.contains('horizontally')).to.be.true;
          expect(center2sizes.classList.contains('vertically')).to.be.true;
          expect(center2sizes.style.marginLeft).to.be.equal('-75px');
          expect(center2sizes.style.display).to.be.equal('inline');
          expect(center2sizes.style.position).to.be.equal('fixed');
          expect(center2sizes.style.left).to.be.equal('50%');
          expect(center2sizes.style.marginTop).to.be.equal('-150px');
          expect(center2sizes.style.top).to.be.equal('50%');
        });

        test('test if element position vertical is removed.', function() {
          var vertical = testFixture3.querySelector('.vertical-test');

          expect(vertical.classList.contains('midway')).to.be.true;
          expect(vertical.classList.contains('vertically')).to.be.true;
          expect(vertical.style.display).to.be.equal('inline');
          expect(vertical.style.position).to.be.equal('fixed');
          expect(vertical.style.marginTop).to.be.equal('-100px');
          expect(vertical.style.top).to.be.equal('50%');

          var midway = new GrowCssMidway({
            'rem-base': 16,
            unit: 'px',
          });

          midway.resetPosition(vertical, 'vertical');

          expect(vertical.classList.contains('midway')).to.be.false;
          expect(vertical.classList.contains('centered')).to.be.false;
          expect(vertical.classList.contains('vertically')).to.be.false;
          expect(vertical.style.display).to.be.equal('');
          expect(vertical.style.position).to.be.equal('');
          expect(vertical.style.marginTop).to.be.equal('');
          expect(vertical.style.top).to.be.equal('');
        });

        test('test if element position horizontal is removed.', function() {
          var horizontal = testFixture2.querySelector('.horizontal-test');

          expect(horizontal.classList.contains('midway')).to.be.true;
          expect(horizontal.classList.contains('horizontally')).to.be.true;
          expect(horizontal.style.marginLeft).to.be.equal('-50px');
          expect(horizontal.style.display).to.be.equal('inline');
          expect(horizontal.style.position).to.be.equal('fixed');
          expect(horizontal.style.left).to.be.equal('50%');

          var midway = new GrowCssMidway({
            'rem-base': 16,
            unit: 'px',
          });

          midway.resetPosition(horizontal, 'horizontal');

          expect(horizontal.classList.contains('midway')).to.be.false;
          expect(horizontal.classList.contains('centered')).to.be.false;
          expect(horizontal.classList.contains('horizontally')).to.be.false;
          expect(horizontal.style.marginLeft).to.be.equal('');
          expect(horizontal.style.display).to.be.equal('');
          expect(horizontal.style.position).to.be.equal('');
          expect(horizontal.style.left).to.be.equal('');
        });

        test('test if element position center is removed.', function() {
          var center2sizes = testFixture4.querySelector('.center-2-sizes-test');

          expect(center2sizes.classList.contains('midway')).to.be.true;
          expect(center2sizes.classList.contains('centered')).to.be.true;
          expect(center2sizes.classList.contains('horizontally')).to.be.true;
          expect(center2sizes.classList.contains('vertically')).to.be.true;
          expect(center2sizes.style.marginLeft).to.be.equal('-75px');
          expect(center2sizes.style.display).to.be.equal('inline');
          expect(center2sizes.style.position).to.be.equal('fixed');
          expect(center2sizes.style.left).to.be.equal('50%');
          expect(center2sizes.style.marginTop).to.be.equal('-150px');
          expect(center2sizes.style.top).to.be.equal('50%');

          var midway = new GrowCssMidway({
            'rem-base': 16,
            unit: 'px',
          });

          midway.resetPosition(center2sizes);

          expect(center2sizes.classList.contains('midway')).to.be.false;
          expect(center2sizes.classList.contains('centered')).to.be.false;
          expect(center2sizes.classList.contains('horizontally')).to.be.false;
          expect(center2sizes.classList.contains('vertically')).to.be.false;
          expect(center2sizes.style.marginLeft).to.be.equal('');
          expect(center2sizes.style.display).to.be.equal('');
          expect(center2sizes.style.position).to.be.equal('');
          expect(center2sizes.style.left).to.be.equal('');
          expect(center2sizes.style.marginTop).to.be.equal('');
          expect(center2sizes.style.top).to.be.equal('');
        });
      });
    </script>

  </body>
</html>
